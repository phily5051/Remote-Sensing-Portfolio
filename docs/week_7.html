<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Phil’s remote sensing learning diary - 7&nbsp; Week 7</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./week_8.html" rel="next">
<link href="./week_6.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Phil’s remote sensing learning diary</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_3.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_4.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_5.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_6.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_7.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./week_8.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 8</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Week 7</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<h1>
7 Classification Methods 2
</h1>
<h2 class="anchored">
7.1 Summary
</h2>
<p>In this section, I am going to give an overall idea of how Machine Learning (ML) classification algorithm works, explain the basic concept of sub pixel analysis, and understand how to assess the accuracy of the models we build.</p>
<h3 class="anchored">
7.1.1 Remote Sensing ML Classification Methods In a Nutshell
</h3>
<ul>
<li>How to build a ML model in Remote Sensing?</li>
</ul>
<p>The image below illustrates the general idea of how ML models are built in remote sensing. The pixel values are extracted from <strong>Region of Interest (ROI)</strong>, and the data are stored in a tabular format. Each row contains the values of each pixel. The output value (land cover type) that we are trying to predict is called <em>‘Label’</em>,and the input data is <em>‘Feature’</em>. 70% of the values are used for training a model, the rest is withheld for testing the accuracy of the model.</p>
<ul>
<li><p>Any Considerations?:</p>
<ul>
<li>For generalizability, better use <code>multi-year data</code>, rather than data from one single year</li>
<li>Understanding of <strong>spatial autocorrelation</strong></li>
<li><code>Hard</code> vs <code>Soft</code> classification</li>
</ul></li>
</ul>
<p><em>A bit of Thought…..</em></p>
<p>So far, the classification methods we covered are at a per pixel approach, which assumes that a pixel contains only one land type. However, in reality, this is hardly true as each pixel can consist of different types of land. If we are doing a research, don’t we need to set <code>detailed criteria or reasons to say a certain pixel a specific land type</code> when building a model and share this with people?</p>
<h3 class="anchored">
7.1.2 Spectral Mixture Analysis (SMA)
</h3>
<ul>
<li><p>Definition:</p>
<p>SMA is a sub-pixel analysis technique which <code>estimates the proportion of different land covers within a pixel</code> based on their <code>spectral signatures</code> <span class="citation" data-cites="manolakislockwoodcooley2016">(<a href="references.html#ref-manolakislockwoodcooley2016" role="doc-biblioref">Manolakis, Lockwood, and Cooley 2016</a>)</span>.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/sma.png" style="width:60.0%;height:40.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">A pixel of 3 mixture components (Source: <a href="https://www.researchgate.net/figure/Perfect-decomposition-with-a-Linear-Spectral-Mixture-Model-LSMM-on-a-30-m-pixel-formed_fig6_259715697">Machado and Small, 2013</a>)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Assumption:</p>
<p>The reflectance spectrum of a pixel is a <strong>linear sum</strong> of the reflectance spectra of <code>Endmembers</code> (different land cover types) present within that pixel <span class="citation" data-cites="articlea">(<a href="references.html#ref-articlea" role="doc-biblioref">Roberts et al. 1998</a>)</span>.</p>
<p><em>Note</em>. <code>Endmembers</code> are spectrally pure pixels which have homogeneuos land cover, and there are typically only a few of them.</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/vis.jpg" style="width:60.0%;height:40.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">The V-I-S (Vegetation-Impervious surface-Soil) model of Ridd (1995) (Source: <a href="https://www.researchgate.net/publication/312194814_Comparison_of_Eastern_and_Western_Europe_spatial_development_of_cities_based_on_Remote_sensing_data">Leśko, 2013</a>)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Any Considerations?:</p>
<ul>
<li>number of Endmembers</li>
<li>pixel purity</li>
</ul></li>
</ul>
<p><em>A bit of Thought…..</em></p>
<p>Can we really tell that Endmembers are <em>representative</em> of each land cover type? In previous lecture on signature reflectance, there was disparities in signature reflectance even between the same land cover type. For example, different tree species had different signature reflectance.</p>
<h3 class="anchored">
7.1.3 Accuracy Assessment
</h3>
<ul>
<li><p>Error matrix:</p>
<ul>
<li><p><code>Producer accuracy (Recall)</code>:</p>
<ul>
<li>How often are a map maker’s classification of real features on the ground is correct</li>
<li><span class="math inline">\(TP\)</span> / <span class="math inline">\(TP\)</span> + <span class="math inline">\(FN\)</span></li>
</ul></li>
<li><p><code>User accuracy (Precision)</code>:</p>
<ul>
<li>How often the class on the map will actually be present on the ground</li>
<li><span class="math inline">\(TP\)</span> / <span class="math inline">\(TP\)</span> + <span class="math inline">\(FP\)</span></li>
</ul></li>
<li><p><code>Overall accuracy (OA)</code>:</p>
<ul>
<li>How well a map accurately represents all the reference sites</li>
<li><span class="math inline">\(TP\)</span> <span class="math inline">\(+\)</span> <span class="math inline">\(TN\)</span> / <span class="math inline">\(TP + FP + FN + TN\)</span></li>
</ul></li>
</ul></li>
<li><p>F1:</p>
<ul>
<li>combines both recall and precision</li>
<li><span class="math inline">\(F1 = 2 * Precision * Recall / Precision + Recall\)</span></li>
</ul></li>
</ul>
<h2 class="anchored">
7.2 Application
</h2>
<p>All ML models need to be tested with withheld data to avoid over-fitting issues. When it comes to ML classification models in remote sensing, however, this is not enough!. There is another factor that we have to consider…</p>
<p><strong>Spatial autocorrelation</strong>!!</p>
<p><span class="citation" data-cites="tobler">Tobler (<a href="references.html#ref-tobler" role="doc-biblioref">1970</a>)</span> argued the first law of geography is that <u>near things are more closely related than distant things</u>. Even if we split our spatial data into training and test data, there will always be “possibilities of spatial autocorrelation”.</p>
<h3 class="anchored">
7.2.1 Brief Information about the Research
</h3>
<p><span class="citation" data-cites="karasiak">Karasiak et al. (<a href="references.html#ref-karasiak" role="doc-biblioref">2021</a>)</span> built a random forest (RF) model to classify forest stands. The research team compared the OA of six cross-validation (CV) strategies with different sample sizes - pixel and object levels.</p>
<h3 class="anchored">
7.2.3 Main Findings of the research
</h3>
<ul>
<li><p>Ignoring spatial autocorrelation resulted in a high accuracy in both sample levels</p></li>
<li><p>Non-spatial LOO or <em>k</em> - fold CV at the object level can mitigate the effect of spatial autocorrelation, when the number of sample size is not too large (50 forest stands)</p>
<ul>
<li>If the number of sample increases (over 500 forest stands), the distance between forest stands reduces, leading to increased effect of spatial dependence between training and test datasets</li>
</ul></li>
<li><p>Spatial LOO CV is a better choice</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/rs_cv.jpg" style="width:60.0%;height:40.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Average OA accuracy for each CV strategies (Source: <a href="https://www.researchgate.net/publication/351106376_Spatial_dependence_between_training_and_test_sets_another_pitfall_of_classification_accuracy_assessment_in_remote_sensing">Karasiak et al, 2021</a>)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/rs_learningcurve.jpg" style="width:60.0%;height:40.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Learning curve for each CV strategies (Source: <a href="https://www.researchgate.net/publication/351106376_Spatial_dependence_between_training_and_test_sets_another_pitfall_of_classification_accuracy_assessment_in_remote_sensing">Karasiak et al, 2021</a>)</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p><em>A bit of Thought…..</em></p>
<p>Before reading this paper, I thought that object-based analysis is a safe way to avoid spatial autocorrelation issue as it is based on distance.</p>
<p>After reading the paper, however, I began to understand the object-based non-spatial CV is just an alternative of spatial CV when the sample size is not too large.</p>
<p>If we are classifying land cover types other than forest stands, would this optimal sample number be different from the forest stands? What is the optimal number of sample sizes that we are safe to use non-spatial CV to assess remote sensing ML model?</p>
<h2 class="anchored">
7.3 Reflection
</h2>
<p>This week’s contents helped me understand the particular characteristics of remote sensing ML models. As ML models are grounded on spatial data, spatial autocorrelation is always inherent in the data we use.</p>
<p>Building a ML model without understanding this distinctive feature would result in a misleading classification.</p>
<p>Moreover, I was pleased to see what we learnt in the previous term (<strong>Moran’s I</strong>) comes into play in solving spatial autocorrelation in ML models. This reinforced my understanding of previous lessons as well as connected it to new concepts and methodologies.</p>
<p>In closing this week’s diary, I would like to look into any other new ML models in remote sensing which are not covered in the lecture, and their usage in urban environments.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-karasiak" class="csl-entry" role="doc-biblioentry">
Karasiak, Nicolas, Jean-François Dejoux, Claude Monteil, and David Sheeren. 2021. <span>“Spatial Dependence Between Training and Test Sets: Another Pitfall of Classification Accuracy Assessment in Remote Sensing.”</span> <em>Machine Learning</em>. <a href="https://doi.org/10.1007/s10994-021-05972-1">https://doi.org/10.1007/s10994-021-05972-1</a>.
</div>
<div id="ref-manolakislockwoodcooley2016" class="csl-entry" role="doc-biblioentry">
Manolakis, Dimitris G., Ronald B. Lockwood, and Thomas W. Cooley. 2016. <span>“Spectral Mixture Analysis.”</span> In, 443493. Cambridge: Cambridge University Press. <a href="https://doi.org/10.1017/CBO9781316017876.010">https://doi.org/10.1017/CBO9781316017876.010</a>.
</div>
<div id="ref-articlea" class="csl-entry" role="doc-biblioentry">
Roberts, Dar, M. Gardner, R. Church, Susan Ustin, George Scheer, and R. O. Green. 1998. <span>“Mapping Chaparral in the Santa Monica Mountains Using Multiple Endmember Spectral Mixture Models.”</span> <em>Remote Sensing of Environment</em> 65 (September). <a href="https://doi.org/10.1016/S0034-4257(98)00037-6">https://doi.org/10.1016/S0034-4257(98)00037-6</a>.
</div>
<div id="ref-tobler" class="csl-entry" role="doc-biblioentry">
Tobler, W. R. 1970. <span>“A Computer Movie Simulating Urban Growth in the Detroit Region.”</span> <em>Economic Geography</em> 46: 234240. <a href="http://www.jstor.org/stable/143141">http://www.jstor.org/stable/143141</a>.
</div>
</div>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./week_6.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Week 6</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./week_8.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Week 8</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>